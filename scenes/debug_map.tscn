[gd_scene load_steps=16 format=3 uid="uid://c8r7wxlmpbjna"]

[ext_resource type="Texture2D" uid="uid://bvkiun62stww1" path="res://textures/Asphalt010_1K-JPG/Asphalt010_1K-JPG_Color.jpg" id="1_speln"]
[ext_resource type="Texture2D" uid="uid://bxan3rl4nvecv" path="res://textures/Asphalt010_1K-JPG/Asphalt010_1K-JPG_NormalGL.jpg" id="2_c2rtx"]
[ext_resource type="Texture2D" uid="uid://bwvd0ih54w33i" path="res://textures/Asphalt010_1K-JPG/Asphalt010_1K-JPG_Roughness.jpg" id="3_6y21t"]
[ext_resource type="PackedScene" uid="uid://cw07u8u0d4nh8" path="res://scenes/player.tscn" id="4_c2rtx"]
[ext_resource type="PackedScene" uid="uid://bjd1vh3gh3a1d" path="res://scenes/objects/interactable_obj_debug.tscn" id="5_6y21t"]
[ext_resource type="Script" uid="uid://dooj1qh3pat4d" path="res://scripts/switch_obj.gd" id="6_ly0mc"]
[ext_resource type="PackedScene" uid="uid://bc1skyf56nny2" path="res://scenes/objects/target_interact_obj_debug.tscn" id="7_2balx"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ly0mc"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_2balx"]
sky_material = SubResource("ProceduralSkyMaterial_ly0mc")

[sub_resource type="Environment" id="Environment_kqwfv"]
background_mode = 2
background_color = Color(0.76240367, 0.76240367, 0.76240367, 1)
sky = SubResource("Sky_2balx")
tonemap_mode = 2
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.0405
volumetric_fog_length = 48.08
volumetric_fog_detail_spread = 1.0980648
adjustment_enabled = true
adjustment_contrast = 1.79
adjustment_saturation = 1.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_as5s6"]
albedo_texture = ExtResource("1_speln")
roughness_texture = ExtResource("3_6y21t")
normal_enabled = true
normal_texture = ExtResource("2_c2rtx")
uv1_scale = Vector3(0.25, 0.25, 0.25)
uv1_triplanar = true
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_62hoa"]
material = SubResource("StandardMaterial3D_as5s6")
size = Vector2(100, 100)
subdivide_width = 2
subdivide_depth = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_c2rtx"]
data = PackedVector3Array(50, 0, 50, 16.6667, 0, 50, 50, 0, 16.6667, 16.6667, 0, 50, 16.6667, 0, 16.6667, 50, 0, 16.6667, 16.6667, 0, 50, -16.6667, 0, 50, 16.6667, 0, 16.6667, -16.6667, 0, 50, -16.6667, 0, 16.6667, 16.6667, 0, 16.6667, -16.6667, 0, 50, -50, 0, 50, -16.6667, 0, 16.6667, -50, 0, 50, -50, 0, 16.6667, -16.6667, 0, 16.6667, 50, 0, 16.6667, 16.6667, 0, 16.6667, 50, 0, -16.6667, 16.6667, 0, 16.6667, 16.6667, 0, -16.6667, 50, 0, -16.6667, 16.6667, 0, 16.6667, -16.6667, 0, 16.6667, 16.6667, 0, -16.6667, -16.6667, 0, 16.6667, -16.6667, 0, -16.6667, 16.6667, 0, -16.6667, -16.6667, 0, 16.6667, -50, 0, 16.6667, -16.6667, 0, -16.6667, -50, 0, 16.6667, -50, 0, -16.6667, -16.6667, 0, -16.6667, 50, 0, -16.6667, 16.6667, 0, -16.6667, 50, 0, -50, 16.6667, 0, -16.6667, 16.6667, 0, -50, 50, 0, -50, 16.6667, 0, -16.6667, -16.6667, 0, -16.6667, 16.6667, 0, -50, -16.6667, 0, -16.6667, -16.6667, 0, -50, 16.6667, 0, -50, -16.6667, 0, -16.6667, -50, 0, -16.6667, -16.6667, 0, -50, -50, 0, -16.6667, -50, 0, -50, -16.6667, 0, -50)

[sub_resource type="BoxMesh" id="BoxMesh_c2rtx"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6y21t"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[node name="DebugMap" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 4, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kqwfv")

[node name="Env" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="Env"]
mesh = SubResource("PlaneMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Ground"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_c2rtx")

[node name="Cubes" type="Node3D" parent="Env"]

[node name="Cube" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Cube2" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.0015955, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube2"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Cube3" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.0015955, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube3"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Interactables" type="Node3D" parent="Env"]

[node name="InteractableObjDebug" parent="Env/Interactables" instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1500002, -3)
message = "Pick Up"

[node name="Switch" parent="Env/Interactables" node_paths=PackedStringArray("target_object") instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.1500002, -3)
script = ExtResource("6_ly0mc")
message = "Press"
target_object = NodePath("../TargetInteractObjDebug")
needs_key = false

[node name="TargetInteractObjDebug" parent="Env/Interactables" instance=ExtResource("7_2balx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.5, -5)

[node name="Switch2" parent="Env/Interactables" node_paths=PackedStringArray("target_object", "key_needed") instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1.1500002, -3)
script = ExtResource("6_ly0mc")
message = "Press"
target_object = NodePath("../TargetInteractObjDebug2")
needs_key = true
key_needed = NodePath("../InteractableObjDebug")

[node name="TargetInteractObjDebug2" parent="Env/Interactables" instance=ExtResource("7_2balx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.5, -5)

[node name="Player" parent="." instance=ExtResource("4_c2rtx")]
