[gd_scene load_steps=22 format=3 uid="uid://c8r7wxlmpbjna"]

[ext_resource type="Material" uid="uid://dk22mppckgota" path="res://materials/asphalt.material" id="1_ly0mc"]
[ext_resource type="PackedScene" uid="uid://cw07u8u0d4nh8" path="res://scenes/player.tscn" id="4_c2rtx"]
[ext_resource type="PackedScene" uid="uid://bjd1vh3gh3a1d" path="res://scenes/objects/interactable_obj_debug.tscn" id="5_6y21t"]
[ext_resource type="Script" uid="uid://dooj1qh3pat4d" path="res://scripts/switch_obj.gd" id="6_ly0mc"]
[ext_resource type="PackedScene" uid="uid://bc1skyf56nny2" path="res://scenes/objects/target_interact_obj_debug.tscn" id="7_2balx"]
[ext_resource type="Script" uid="uid://dkb8ltjc6067n" path="res://addons/raytraced_audio/raytraced_audio_player_3d.gd" id="7_as5s6"]
[ext_resource type="PackedScene" uid="uid://buia8py52rmvt" path="res://models/tree/tree.tscn" id="7_kqwfv"]
[ext_resource type="Material" uid="uid://drl3m6e4m7w6a" path="res://materials/metal_wall.material" id="8_k2hi8"]
[ext_resource type="AudioStream" uid="uid://bh3pdcoklf3p2" path="res://audio/AudioDebugSongIrisOut.mp3" id="9_0v7pg"]

[sub_resource type="FogMaterial" id="FogMaterial_62hoa"]
density = 0.1873
height_falloff = 1e-05
edge_fade = 0.09012509

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ly0mc"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
sky_curve = 0.43922535
ground_bottom_color = Color(0.21025872, 0.17766249, 0.14099354, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_curve = 0.09849161

[sub_resource type="Sky" id="Sky_2balx"]
sky_material = SubResource("ProceduralSkyMaterial_ly0mc")

[sub_resource type="Environment" id="Environment_kqwfv"]
background_mode = 2
background_color = Color(0.76240367, 0.76240367, 0.76240367, 1)
sky = SubResource("Sky_2balx")
tonemap_mode = 2
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.0
volumetric_fog_length = 48.08
volumetric_fog_detail_spread = 1.0980648
adjustment_enabled = true
adjustment_contrast = 1.79
adjustment_saturation = 1.25

[sub_resource type="PlaneMesh" id="PlaneMesh_62hoa"]
material = ExtResource("1_ly0mc")
size = Vector2(100, 100)
subdivide_width = 2
subdivide_depth = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_c2rtx"]
data = PackedVector3Array(50, 0, 50, 16.6667, 0, 50, 50, 0, 16.6667, 16.6667, 0, 50, 16.6667, 0, 16.6667, 50, 0, 16.6667, 16.6667, 0, 50, -16.6667, 0, 50, 16.6667, 0, 16.6667, -16.6667, 0, 50, -16.6667, 0, 16.6667, 16.6667, 0, 16.6667, -16.6667, 0, 50, -50, 0, 50, -16.6667, 0, 16.6667, -50, 0, 50, -50, 0, 16.6667, -16.6667, 0, 16.6667, 50, 0, 16.6667, 16.6667, 0, 16.6667, 50, 0, -16.6667, 16.6667, 0, 16.6667, 16.6667, 0, -16.6667, 50, 0, -16.6667, 16.6667, 0, 16.6667, -16.6667, 0, 16.6667, 16.6667, 0, -16.6667, -16.6667, 0, 16.6667, -16.6667, 0, -16.6667, 16.6667, 0, -16.6667, -16.6667, 0, 16.6667, -50, 0, 16.6667, -16.6667, 0, -16.6667, -50, 0, 16.6667, -50, 0, -16.6667, -16.6667, 0, -16.6667, 50, 0, -16.6667, 16.6667, 0, -16.6667, 50, 0, -50, 16.6667, 0, -16.6667, 16.6667, 0, -50, 50, 0, -50, 16.6667, 0, -16.6667, -16.6667, 0, -16.6667, 16.6667, 0, -50, -16.6667, 0, -16.6667, -16.6667, 0, -50, 16.6667, 0, -50, -16.6667, 0, -16.6667, -50, 0, -16.6667, -16.6667, 0, -50, -50, 0, -16.6667, -50, 0, -50, -16.6667, 0, -50)

[sub_resource type="BoxMesh" id="BoxMesh_c2rtx"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6y21t"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_62hoa"]
material = ExtResource("8_k2hi8")
size = Vector3(5, 3, 0.2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_62hoa"]
data = PackedVector3Array(-2.5, 1.5, 0.099999994, 2.5, 1.5, 0.099999994, -2.5, -1.5, 0.099999994, 2.5, 1.5, 0.099999994, 2.5, -1.5, 0.099999994, -2.5, -1.5, 0.099999994, 2.5, 1.5, -0.099999994, -2.5, 1.5, -0.099999994, 2.5, -1.5, -0.099999994, -2.5, 1.5, -0.099999994, -2.5, -1.5, -0.099999994, 2.5, -1.5, -0.099999994, 2.5, 1.5, 0.099999994, 2.5, 1.5, -0.099999994, 2.5, -1.5, 0.099999994, 2.5, 1.5, -0.099999994, 2.5, -1.5, -0.099999994, 2.5, -1.5, 0.099999994, -2.5, 1.5, -0.099999994, -2.5, 1.5, 0.099999994, -2.5, -1.5, -0.099999994, -2.5, 1.5, 0.099999994, -2.5, -1.5, 0.099999994, -2.5, -1.5, -0.099999994, 2.5, 1.5, 0.099999994, -2.5, 1.5, 0.099999994, 2.5, 1.5, -0.099999994, -2.5, 1.5, 0.099999994, -2.5, 1.5, -0.099999994, 2.5, 1.5, -0.099999994, -2.5, -1.5, 0.099999994, 2.5, -1.5, 0.099999994, -2.5, -1.5, -0.099999994, 2.5, -1.5, 0.099999994, 2.5, -1.5, -0.099999994, -2.5, -1.5, -0.099999994)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0v7pg"]
shading_mode = 2
diffuse_mode = 1
specular_mode = 2
emission_enabled = true
emission = Color(1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_qyrlb"]
material = SubResource("StandardMaterial3D_0v7pg")
radius = 0.25
height = 0.5
radial_segments = 10
rings = 5

[node name="DebugMap" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 4, 0)
shadow_enabled = true

[node name="FogVolume" type="FogVolume" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0)
size = Vector3(100, 20, 100)
material = SubResource("FogMaterial_62hoa")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kqwfv")

[node name="Env" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="Env"]
mesh = SubResource("PlaneMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Ground"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_c2rtx")

[node name="Cubes" type="Node3D" parent="Env"]

[node name="Cube" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Cube2" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.0015955, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube2"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Cube3" type="MeshInstance3D" parent="Env/Cubes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.0015955, 0.50000024, -2.7879229)
mesh = SubResource("BoxMesh_c2rtx")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Cubes/Cube3"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Cubes/Cube3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6y21t")

[node name="Interactables" type="Node3D" parent="Env"]

[node name="InteractableObjDebug" parent="Env/Interactables" instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1500002, -3)
message = "Pick Up"

[node name="Switch" parent="Env/Interactables" node_paths=PackedStringArray("target_object") instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.1500002, -3)
script = ExtResource("6_ly0mc")
message = "Press"
target_object = NodePath("../TargetInteractObjDebug")
needs_key = false

[node name="TargetInteractObjDebug" parent="Env/Interactables" instance=ExtResource("7_2balx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.5, -5)

[node name="Switch2" parent="Env/Interactables" node_paths=PackedStringArray("target_object", "key_needed") instance=ExtResource("5_6y21t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1.1500002, -3)
script = ExtResource("6_ly0mc")
message = "Press"
target_object = NodePath("../TargetInteractObjDebug2")
needs_key = true
key_needed = NodePath("../InteractableObjDebug")

[node name="TargetInteractObjDebug2" parent="Env/Interactables" instance=ExtResource("7_2balx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.5, -5)

[node name="Trees" type="Node3D" parent="Env"]

[node name="Tree" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, -5)

[node name="Tree2" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5)

[node name="Tree3" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 2)

[node name="Tree4" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 3)

[node name="Tree5" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 6)

[node name="Tree6" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, 3)

[node name="Tree7" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, -2)

[node name="Tree8" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, -6)

[node name="Tree9" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -7)

[node name="Tree10" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, -8)

[node name="Tree11" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, 0)

[node name="Tree12" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 1)

[node name="Tree13" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, -7)

[node name="Tree14" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -17)

[node name="Tree15" parent="Env/Trees" instance=ExtResource("7_kqwfv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, -12)

[node name="Wall" type="MeshInstance3D" parent="Env"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -10)
mesh = SubResource("BoxMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Wall"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Wall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_62hoa")

[node name="Wall2" type="MeshInstance3D" parent="Env"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -14)
mesh = SubResource("BoxMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Wall2"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Wall2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_62hoa")

[node name="Wall3" type="MeshInstance3D" parent="Env"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 2, 1.5, -12)
mesh = SubResource("BoxMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Wall3"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Wall3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_62hoa")

[node name="Wall4" type="MeshInstance3D" parent="Env"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -5, 1.5, -12)
mesh = SubResource("BoxMesh_62hoa")

[node name="StaticBody3D" type="StaticBody3D" parent="Env/Wall4"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env/Wall4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_62hoa")

[node name="Player" parent="." instance=ExtResource("4_c2rtx")]

[node name="RaytracedAudioPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -12)
stream = ExtResource("9_0v7pg")
volume_db = 30.0
autoplay = true
max_distance = 15.0
bus = &"RaytracedReverb"
doppler_tracking = 2
parameters/looping = true
script = ExtResource("7_as5s6")
metadata/_custom_type_script = "uid://dkb8ltjc6067n"

[node name="MeshInstance3D" type="MeshInstance3D" parent="RaytracedAudioPlayer3D"]
mesh = SubResource("SphereMesh_qyrlb")
